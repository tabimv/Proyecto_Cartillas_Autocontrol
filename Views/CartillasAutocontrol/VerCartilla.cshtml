@model List<Proyecto_Cartilla_Autocontrol.Models.DETALLE_CARTILLA>


@{
    ViewBag.Title = "Index";
}

@if (Session["Perfil"] != null && Session["Perfil"].ToString() == "Administrador")
{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
else
{
    Layout = "~/Views/Shared/_LayoutGeneral.cshtml";
}

@if (Session["Perfil"] != null && Session["Perfil"].ToString() == "Administrador")
{
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/Content/css/cartilla.css">

    <div id="contenido-pdf">
        <div class="encabezado">
            <img src="~/Content/img/logo2.png" alt="Logo" class="encabezado-imagen">
            <h1 class="encabezado-titulo">CARTILLA DE CONTROL VIVIENDA</h1>
        </div>

        <div class="rectangulo">
            <p><strong>Actividad: </strong></p>
            <p><strong>Responsable de Revisión:</strong></p>
            <div class="linea-vertical"></div>
            <div class="fecha-firma">

                <p><strong>Fecha:</strong></p>
                <p><strong>Firma:</strong></p>
            </div>
        </div>

        <section>
            <!-- Información general -->
            <p><strong>OBRA:</strong> Proyecto Habitacional El Peumo</p>
            <p><strong>COMUNA:</strong> Concepción</p>
            <p><strong>DIRECCIÓN:</strong> Camino a Nonguén N°2230 Lote A Valle Nonguén</p>
            <!-- Otras informaciones generales -->
        </section>

        <table>
            <tr>
                <th>N°</th>
                <th>Elementos de verificación</th>
                <td>ITO</td>
                <td>OTEC</td>
            </tr>

            @foreach (var item in Model)
            {

                <tr>
                    <td rowspan="2"> @item.ITEM_VERIF.label</td>
                    <td rowspan="2"> @item.ITEM_VERIF.elemento_verificacion </td>
                </tr>
                <tr>
                    <td>@item.estado_ito</td>
                    <td>@item.estado_otec</td>
                </tr>
            }
        </table>

        <div class="observaciones">
            <div class="cuadro-observaciones">
                <label for="observaciones">Observaciones:</label>

            </div>
        </div>


        <div class="firmas">
            <div class="firma">
                <div class="linea"></div>
                <p><strong> Carlos Cardenas Mancilla </strong></p>
                <p>Administrador de Obra</p>
                <p>Constructora Manzano y Asoc.Ltda</p>
            </div>
            <div class="firma">
                <div class="linea"></div>
                <p><strong> Marlene Delgado Caro </strong></p>
                <p>Autocontrol de Obra</p>
                <p>Constructora Manzano y Asoc.Ltda</p>
            </div>
            <div class="firma">
                <div class="linea"></div>
                <p><strong> Boris Zambrano Orrego </strong></p>
                <p>ITO Serviu</p>
                <p>Serviu Región del Biobío</p>
            </div>
            <div class="firma">
                <div class="linea"></div>
                <p><strong> Osvaldo Araneda Caceres </strong></p>
                <p>Supervisor Serviu</p>
                <p>Serviu Región del Biobío</p>
            </div>
        </div>
    </div>

}

else
{
    <link rel="stylesheet" href="~/Content/css/AccesoDenegado.css">
    <div id="header">
        <h1> Acceso denegado. Esta vista solo está disponible para Administrador</h1>
        <br />
        <a href="@Url.Action("Login", "Account")" class="btn-acceso">Iniciar Sesión</a>
    </div>
}

